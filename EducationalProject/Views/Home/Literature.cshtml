@using EducationalProject.Models
@model EducationalProject.Models.EducationalProjectContext

@{
    ViewBag.Title = "Literature";
}



<script id="bookTemplate" type="text/x-jquery-tmpl">
    <tr>
        <td>${Name}</td>
        <td>${Author}</td>
        <td>${Description}</td>
    </tr>
</script>
<h2>Literature1</h2>

<table border="1" class="simple-little-table">
    <caption>Recommended Literature</caption>
    <tr>
        <th>Type</th>
        <th>Book Name</th>
        <th>Description</th>
        <th>Author</th>
    </tr>
    <tbody id="bookList">
        
    </tbody>

</table>

@*@using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <hr />
            <table border="1" class="simple-little-table">
                <caption>Recommended Literature</caption>
                <tr>
                    <th>Type</th>
                    <th>Book Name</th>
                    <th>Description</th>
                    <th>Author</th>
                </tr>
                <tbody id="bookList1">
                    @@foreach (var section in Model.BookSections.ToList())
                    {

                        var q =
                        from c in Model.BookSections.ToList()
                        from o in c.BookList.ToList()
                        where c.Name == section.Name
                        select o;




                        foreach (var k in q)
                        {
                            <tr>
                                <td>@Html.Raw(section.Name)</td>
                                <td>@k.Name</td>
                                <td>@k.Description</td>
                                <td>@k.Author</td>
                            </tr>
                            string link = (k.Link == "") ? "#" : k.Link;

                        }
                        if (q.Count() == 0)
                        {
                            @:Empty!
                            }
                    }@
                </tbody>

            </table>



            <input type="button" id="btnBook" value="Show Data" />
            @*<<div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>@
        </div>
    }

    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>*@

<input type="button" id="btnBook" value="Show Data" />
<script>
    $("#btnBook").click(function () {
      
        $.getJSON("/Home/GetJson/", function (data) {

            //debugger;
            //$('#bookTemplate').tmpl(data).appendTo("#bookList");
            $("#bookList").html($("#bookTemplate").tmpl(data));
           
        });
    });
    function showBooks(e) {
        
        $.getJSON("/Home/GetJson/", function (data) {

            debugger;
            //$("#bookTemplate").tmpl(data).appendTo("#bookList");
            //   $("#bookList")//.html($("#bookTemplate").tmpl(data));
            debugger;
        });
        //$.ajax({
        //    // Get Faculty PartialView
        //    url: "/Home/FacultiesToPVDemo",
        //    type: 'Get',
        //    data: { courseName: selectedCourseName },
        //    success: function (data) {
        //        $("#facultyDetailTable").empty().append(data);
        //    },
        //    error: function () {
        //        alert("something seems wrong");
        //    }
        //});
    }

    function GetDate(jsonDate) {
        var value = new Date(parseInt(jsonDate.substr(6)));
        return value.getMonth() + 1 + "/" + value.getDate() + "/" + value.getFullYear();
    }


</script>
